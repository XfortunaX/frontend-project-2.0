<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/achievement.css">
    <title>Achievement</title>
</head>
<body>

    <div class="achivements-page">
        <a href="/"><div class="return-on-main">На главную</div></a>

        <div class="title">Достижения</div>

        <div class="content">
            <ul class="scrollable-list" id="scroll_list">
                <li class="scrollable-list__item"><img src="/images/achievement_1.png"
                    ondrag="return false" ondragdrop="return false" ondragstart="return false"></li>
                <li class="scrollable-list__item"><img src="/images/achievement_2.png"
                    ondrag="return false" ondragdrop="return false" ondragstart="return false"></li>
                <li class="scrollable-list__item"><img src="/images/achievement_3.png"
                    ondrag="return false" ondragdrop="return false" ondragstart="return false"></li>
                <li class="scrollable-list__item"><img src="/images/achievement_4.png"
                    ondrag="return false" ondragdrop="return false" ondragstart="return false"></li>
                <li class="scrollable-list__item"><img src="/images/achievement_5.png"
                    ondrag="return false" ondragdrop="return false" ondragstart="return false"></li>
                <li class="scrollable-list__item"><img src="/images/achievement_6.png"
                    ondrag="return false" ondragdrop="return false" ondragstart="return false"></li>
                <li class="scrollable-list__item"><img src="/images/achievement_7.png"
                    ondrag="return false" ondragdrop="return false" ondragstart="return false"></li>
                <li class="scrollable-list__item"><img src="/images/achievement_8.png"
                    ondrag="return false" ondragdrop="return false" ondragstart="return false"></li>
            </ul>
            <div class="scrollable-list-description" id="scroll_list_description">
                <div class="scrollable-list-description__item">
                    <h3>Какое-то интересное и увлекательное описание достижения 1</h3>
                </div>
                <div class="scrollable-list-description__item">
                    <h3>Какое-то интересное и увлекательное описание достижения 2</h3>
                </div>
                <div class="scrollable-list-description__item">
                    <h3>Какое-то интересное и увлекательное описание достижения 3</h3>
                </div>
                <div class="scrollable-list-description__item">
                    <h3>Какое-то интересное и увлекательное описание достижения 4</h3>
                </div>
                <div class="scrollable-list-description__item">
                    <h3>Какое-то интересное и увлекательное описание достижения 5</h3>
                </div>
                <div class="scrollable-list-description__item">
                    <h3>Какое-то интересное и увлекательное описание достижения 6</h3>
                </div>
                <div class="scrollable-list-description__item">
                    <h3>Какое-то интересное и увлекательное описание достижения 7</h3>
                </div>
                <div class="scrollable-list-description__item">
                    <h3>Какое-то интересное и увлекательное описание достижения 8</h3>
                </div>
            </div>
        </div>
    </div>

    <script>
        var Xpos = 0;
    </script>

    <script>

        var scroll_list = document.getElementById("scroll_list");
        var list = scroll_list.getElementsByTagName('*');
        var scroll_list_description = document.getElementById("scroll_list_description");
        var list_description = scroll_list_description.getElementsByTagName('*');

        scroll_list.onmouseover = function () {
            scroll_list.onwheel = function (e) {
                var delta = e.deltaY || e.detail || e.wheelDelta;
                if(delta > 0) {
                    scroll_list.scrollLeft += 40;
                } else {
                    scroll_list.scrollLeft -= 40;
                }
            };
        };

        function ItemDetect() {
            for(let i = 0; i < list.length; i += 2) {
                list[i].style.width = 150 + 'px';
                list[i].style.height = 150 + 'px';
                list[i].getElementsByTagName("img")[0].style.width = 150 + 'px';
                list[i].getElementsByTagName("img")[0].style.height = 150 + 'px';
                list_description[i].style.display = 'none';
                let item_atr = list[i].getBoundingClientRect();
                let list_atr = scroll_list.getBoundingClientRect();
                if(item_atr.left + item_atr.width / 2 - list_atr.left < list_atr.width / 2 + item_atr.width / 1.7  &&
                    item_atr.left + item_atr.width / 2 - list_atr.left > list_atr.width / 2 - item_atr.width / 1.7 ) {
                    list[i].style.width = 240 + 'px';
                    list[i].style.height = 240 + 'px';
                    list[i].getElementsByTagName("img")[0].style.width = 240 + 'px';
                    list[i].getElementsByTagName("img")[0].style.height = 240 + 'px';
                    list_description[i].style.display = 'inline';
                }
            }
        }

        window.onmousemove = function () {
            scroll_list.onmousedown = function () {
                Xpos = event.clientX;
            };
            if (Xpos !== 0) {
                var del = event.clientX - Xpos;
                scroll_list.scrollLeft -= del * 2;
                Xpos = event.clientX;
            }
            ItemDetect();
        };

        scroll_list.addEventListener('touchmove', function(event) {
            scroll_list.addEventListener('touchstart', function(event) {
                Xpos = event.changedTouches[0].clientX;
            }, false);
            if (Xpos !== 0) {
                var del = event.changedTouches[0].clientX - Xpos;
                scroll_list.scrollLeft -= del * 2;
                Xpos = event.changedTouches[0].clientX;
            }
            ItemDetect();
        }, false);

        scroll_list.addEventListener('touchend', function(event) {
            Xpos = 0;
        }, false);

        window.onmouseup = function () {
            Xpos = 0;
        };

    </script>

</body>
</html>